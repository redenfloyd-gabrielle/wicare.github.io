import{d as ce,q as un,r as q,I as me,o as Ce,a as P,b as p,c as y,e,i as re,t as a,g as n,f as T,C as Q,F as _e,p as Te,n as De,_ as de,x as _n,k as ve,w as pe,h as Se,J as mn,v as Ie,l as Ne,s as E,K as x,S as we,L as B,E as pn,G as Me,j as ae,m as vn,T as $e,M as ye,N as ke,O as bn,P as Ee}from"./index-C_4U_0R-.js";import{u as ge}from"./datetimeconverter-RoqoADkr.js";import{_ as gn}from"./account-Ij-S0WSH.js";const yn="/wicare.github.io/assets/縦_wicare-r1-SRRMP.png";var Sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $n(O){return O&&O.__esModule&&Object.prototype.hasOwnProperty.call(O,"default")?O.default:O}var fn={exports:{}};(function(O,D){(function(l,r){O.exports=r()})(Sn,function(){var l=1e3,r=6e4,I=36e5,w="millisecond",W="second",b="minute",i="hour",u="day",g="week",L="month",c="quarter",m="year",v="date",U="Invalid Date",H=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(f){var t=["th","st","nd","rd"],s=f%100;return"["+f+(t[(s-20)%10]||t[s]||t[0])+"]"}},z=function(f,t,s){var _=String(f);return!_||_.length>=t?f:""+Array(t+1-_.length).join(s)+f},C={s:z,z:function(f){var t=-f.utcOffset(),s=Math.abs(t),_=Math.floor(s/60),d=s%60;return(t<=0?"+":"-")+z(_,2,"0")+":"+z(d,2,"0")},m:function f(t,s){if(t.date()<s.date())return-f(s,t);var _=12*(s.year()-t.year())+(s.month()-t.month()),d=t.clone().add(_,L),M=s-d<0,k=t.clone().add(_+(M?-1:1),L);return+(-(_+(s-d)/(M?d-k:k-d))||0)},a:function(f){return f<0?Math.ceil(f)||0:Math.floor(f)},p:function(f){return{M:L,y:m,w:g,d:u,D:v,h:i,m:b,s:W,ms:w,Q:c}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(f){return f===void 0}},N="en",F={};F[N]=A;var Y="$isDayjsObject",ee=function(f){return f instanceof j||!(!f||!f[Y])},S=function f(t,s,_){var d;if(!t)return N;if(typeof t=="string"){var M=t.toLowerCase();F[M]&&(d=M),s&&(F[M]=s,d=M);var k=t.split("-");if(!d&&k.length>1)return f(k[0])}else{var V=t.name;F[V]=t,d=V}return!_&&d&&(N=d),d||!_&&N},o=function(f,t){if(ee(f))return f.clone();var s=typeof t=="object"?t:{};return s.date=f,s.args=arguments,new j(s)},h=C;h.l=S,h.i=ee,h.w=function(f,t){return o(f,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var j=function(){function f(s){this.$L=S(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[Y]=!0}var t=f.prototype;return t.parse=function(s){this.$d=function(_){var d=_.date,M=_.utc;if(d===null)return new Date(NaN);if(h.u(d))return new Date;if(d instanceof Date)return new Date(d);if(typeof d=="string"&&!/Z$/i.test(d)){var k=d.match(H);if(k){var V=k[2]-1||0,K=(k[7]||"0").substring(0,3);return M?new Date(Date.UTC(k[1],V,k[3]||1,k[4]||0,k[5]||0,k[6]||0,K)):new Date(k[1],V,k[3]||1,k[4]||0,k[5]||0,k[6]||0,K)}}return new Date(d)}(s),this.init()},t.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},t.$utils=function(){return h},t.isValid=function(){return this.$d.toString()!==U},t.isSame=function(s,_){var d=o(s);return this.startOf(_)<=d&&d<=this.endOf(_)},t.isAfter=function(s,_){return o(s)<this.startOf(_)},t.isBefore=function(s,_){return this.endOf(_)<o(s)},t.$g=function(s,_,d){return h.u(s)?this[_]:this.set(d,s)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(s,_){var d=this,M=!!h.u(_)||_,k=h.p(s),V=function(oe,te){var ue=h.w(d.$u?Date.UTC(d.$y,te,oe):new Date(d.$y,te,oe),d);return M?ue:ue.endOf(u)},K=function(oe,te){return h.w(d.toDate()[oe].apply(d.toDate("s"),(M?[0,0,0,0]:[23,59,59,999]).slice(te)),d)},X=this.$W,J=this.$M,Z=this.$D,ie="set"+(this.$u?"UTC":"");switch(k){case m:return M?V(1,0):V(31,11);case L:return M?V(1,J):V(0,J+1);case g:var se=this.$locale().weekStart||0,le=(X<se?X+7:X)-se;return V(M?Z-le:Z+(6-le),J);case u:case v:return K(ie+"Hours",0);case i:return K(ie+"Minutes",1);case b:return K(ie+"Seconds",2);case W:return K(ie+"Milliseconds",3);default:return this.clone()}},t.endOf=function(s){return this.startOf(s,!1)},t.$set=function(s,_){var d,M=h.p(s),k="set"+(this.$u?"UTC":""),V=(d={},d[u]=k+"Date",d[v]=k+"Date",d[L]=k+"Month",d[m]=k+"FullYear",d[i]=k+"Hours",d[b]=k+"Minutes",d[W]=k+"Seconds",d[w]=k+"Milliseconds",d)[M],K=M===u?this.$D+(_-this.$W):_;if(M===L||M===m){var X=this.clone().set(v,1);X.$d[V](K),X.init(),this.$d=X.set(v,Math.min(this.$D,X.daysInMonth())).$d}else V&&this.$d[V](K);return this.init(),this},t.set=function(s,_){return this.clone().$set(s,_)},t.get=function(s){return this[h.p(s)]()},t.add=function(s,_){var d,M=this;s=Number(s);var k=h.p(_),V=function(J){var Z=o(M);return h.w(Z.date(Z.date()+Math.round(J*s)),M)};if(k===L)return this.set(L,this.$M+s);if(k===m)return this.set(m,this.$y+s);if(k===u)return V(1);if(k===g)return V(7);var K=(d={},d[b]=r,d[i]=I,d[W]=l,d)[k]||1,X=this.$d.getTime()+s*K;return h.w(X,this)},t.subtract=function(s,_){return this.add(-1*s,_)},t.format=function(s){var _=this,d=this.$locale();if(!this.isValid())return d.invalidDate||U;var M=s||"YYYY-MM-DDTHH:mm:ssZ",k=h.z(this),V=this.$H,K=this.$m,X=this.$M,J=d.weekdays,Z=d.months,ie=d.meridiem,se=function(te,ue,he,be){return te&&(te[ue]||te(_,M))||he[ue].slice(0,be)},le=function(te){return h.s(V%12||12,te,"0")},oe=ie||function(te,ue,he){var be=te<12?"AM":"PM";return he?be.toLowerCase():be};return M.replace(R,function(te,ue){return ue||function(he){switch(he){case"YY":return String(_.$y).slice(-2);case"YYYY":return h.s(_.$y,4,"0");case"M":return X+1;case"MM":return h.s(X+1,2,"0");case"MMM":return se(d.monthsShort,X,Z,3);case"MMMM":return se(Z,X);case"D":return _.$D;case"DD":return h.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return se(d.weekdaysMin,_.$W,J,2);case"ddd":return se(d.weekdaysShort,_.$W,J,3);case"dddd":return J[_.$W];case"H":return String(V);case"HH":return h.s(V,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return oe(V,K,!0);case"A":return oe(V,K,!1);case"m":return String(K);case"mm":return h.s(K,2,"0");case"s":return String(_.$s);case"ss":return h.s(_.$s,2,"0");case"SSS":return h.s(_.$ms,3,"0");case"Z":return k}return null}(te)||k.replace(":","")})},t.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},t.diff=function(s,_,d){var M,k=this,V=h.p(_),K=o(s),X=(K.utcOffset()-this.utcOffset())*r,J=this-K,Z=function(){return h.m(k,K)};switch(V){case m:M=Z()/12;break;case L:M=Z();break;case c:M=Z()/3;break;case g:M=(J-X)/6048e5;break;case u:M=(J-X)/864e5;break;case i:M=J/I;break;case b:M=J/r;break;case W:M=J/l;break;default:M=J}return d?M:h.a(M)},t.daysInMonth=function(){return this.endOf(L).$D},t.$locale=function(){return F[this.$L]},t.locale=function(s,_){if(!s)return this.$L;var d=this.clone(),M=S(s,_,!0);return M&&(d.$L=M),d},t.clone=function(){return h.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},f}(),G=j.prototype;return o.prototype=G,[["$ms",w],["$s",W],["$m",b],["$H",i],["$W",u],["$M",L],["$y",m],["$D",v]].forEach(function(f){G[f[1]]=function(t){return this.$g(t,f[0],f[1])}}),o.extend=function(f,t){return f.$i||(f(t,j,o),f.$i=!0),o},o.locale=S,o.isDayjs=ee,o.unix=function(f){return o(1e3*f)},o.en=F[N],o.Ls=F,o.p={},o})})(fn);var kn=fn.exports;const wn=$n(kn),hn=O=>(Te("data-v-437ffddd"),O=O(),De(),O),Cn={class:"tile is-ancestor staff-header-box tile-no-padding"},Tn=hn(()=>e("div",{class:"tile is-parent is-3 flex-center",style:{padding:"1rem"}},[e("figure",{class:"image is-128x128 image-container-center"},[e("img",{class:"image-size",src:yn,alt:"Wi Care Logo",id:"wi-care-logo"})])],-1)),Dn={class:"tile is-parent is-vertical"},In={class:"tile is-child",style:{"margin-bottom":"0 !important"}},Ln={class:"title-container"},En={class:"page-title"},Nn={class:"icon"},Mn={class:"logout-label"},On=hn(()=>e("div",{class:"tile is-child",style:{padding:"0 !important",margin:"0 !important",height:"5px","flex-basis":"0"}},[e("div",{class:"broken-line"})],-1)),xn={class:"tile is-child"},Rn={class:"tile"},Un={class:"tile is-vertical"},An={class:"tile"},Wn={class:"session-container"},Bn={class:"username-text font-18"},Hn={class:"tile"},Vn={class:"date-box"},zn={class:"date-container"},qn={class:"time-container"},Yn={class:"tile flex-end"},Fn={class:"btn-container"},Kn={class:"icon"},Pn={key:0,class:"flex-end flex-end-buttons"},jn={class:"grid-option grid-button"},Xn=ce({__name:"StaffHeader",setup(O){const D=un(),l=q(""),r=q(""),I=me();Ce(()=>{w(),setInterval(w,1e3)});const w=()=>{const b=wn();l.value=b.format("YYYY年MM月DD日"),r.value=b.format("HH:mm")},W=()=>{var b;((b=D.currentRoute)==null?void 0:b.value.path)=="/staff/management"?D.push({name:"staff-assignment"}):D.push({name:"staff-management"})};return(b,i)=>{var c,m;const u=P("o-icon"),g=P("o-button"),L=P("o-checkbox");return p(),y(_e,null,[e("div",Cn,[Tn,e("div",Dn,[e("div",In,[re(" top "),e("div",Ln,[e("span",En,a(b.$t(n(I).sessionPage)),1),e("button",{class:"button is-medium is-rounded logout-btn",onClick:i[0]||(i[0]=(...v)=>n(I).logoutUser&&n(I).logoutUser(...v)),style:{color:"whitesmoke"}},[e("span",Nn,[T(u,{pack:"mdi",icon:"logout",customClass:"logout-label",customSize:"mdi-36px"})]),e("span",Mn,a(b.$t("Logout")),1)])])]),On,e("div",xn,[re(" bottom "),e("div",Rn,[e("div",Un,[e("div",An,[e("div",Wn,[e("span",Bn,a(`${b.$t("Login ID")} : ${n(I).session.login_id}`),1),T(g,{rootClass:"changepassword-btn",labelClass:"changepassword-label",label:`(${b.$t("Change Password")})`,variant:"primary",inverted:""},null,8,["label"])])]),e("div",Hn,[e("div",Vn,[e("div",zn,[e("span",null,a(l.value),1)]),e("div",qn,[e("span",null,a(r.value),1)])])])]),e("div",Yn,[e("div",Fn,[e("button",{class:"button is-large is-info",onClick:W},[e("span",Kn,[T(u,{pack:"mdi",icon:"card-account-details-outline",customSize:"mdi-36px"})]),e("span",null,a(((c=n(D).currentRoute)==null?void 0:c.value.path)=="/staff/management"?b.$t("Staff Assignment Setting"):b.$t("Management")),1)])]),((m=n(D).currentRoute)==null?void 0:m.value.path)=="/staff/management"?(p(),y("div",Pn,[T(L,{rootClass:"checkbox-class",inputClass:"checkbox-input",value:!0,label:b.$t("Show All"),modelValue:n(I).isShowAll,"onUpdate:modelValue":i[1]||(i[1]=v=>n(I).isShowAll=v)},null,8,["label","modelValue"]),e("div",jn,[T(u,{class:Q({"active-icon":!n(I).isListView}),rootClass:"grid-icons",pack:"mdi",icon:"view-grid",size:"medium",clickable:"",onClick:n(I).clickViewOption},null,8,["class","onClick"]),T(u,{class:Q({"active-icon":n(I).isListView}),rootClass:"grid-icons",pack:"mdi",icon:"format-list-bulleted-square",size:"medium",clickable:"",onClick:n(I).clickViewOption},null,8,["class","onClick"])])])):re("v-if",!0)])])])])]),re(` <div class="staff-header-box">
    <div class="image-container">
      <img class="image-size" src="../../assets/wicare-logo-portrait.png" alt="Wi Care Logo" id="wi-care-logo">
    </div>
    <div class="text-container">
      <div class="title-container">
        <span class="page-title">{{ $t(sessionStore.sessionPage) }}</span>
        <o-button rootClass="logout-btn" labelClass="logout-label" rounded variant="info"
          @click="sessionStore.logoutUser">
          <o-icon pack="mdi" icon="logout" customClass="logout-label" customSize="mdi-36px" />
          <span>{{ $t('Logout') }}</span>
        </o-button>
      </div>
      <div class="broken-line"></div>
      <div class="session-container">
        <span class="username-text">{{ \`\${$t('Login ID')} : \${sessionStore.session.login_id}\` }}</span>
        <o-button rootClass="changepassword-btn" labelClass="changepassword-label" :label="\`(\${$t('Change Password')})\`"
          variant="primary" inverted />
      </div>
      <div class="last-container">
        <div class="date-box">
          <div class="date-container">
            <span>{{ formattedDate }}</span>
          </div>
          <div class="time-container">
            <span>{{ formattedTime }}</span>
          </div>

        </div>
        <div class="btn-container">
          <o-button size="large" variant="info" @click="clickNavigate" icon-left="card-account-details-outline"
            :label="router.currentRoute?.value.path == '/staff/management' ? $t('Staff Assignment Setting') : $t('Management')">
          </o-button>
        </div>
        <div class="sub-menu" v-if="router.currentRoute?.value.path == '/staff/management'">
          <o-checkbox rootClass="checkbox-class" inputClass="checkbox-input" :value="true" :label="$t('Show All')"
            v-model="sessionStore.isShowAll" />
          <div class="grid-option">
            <o-icon :class="{ 'active-icon': !sessionStore.isListView }" rootClass="grid-icons" pack="mdi"
              icon="view-grid" size="medium" clickable @click="sessionStore.clickViewOption" />
            <o-icon :class="{ 'active-icon': sessionStore.isListView }" rootClass="grid-icons" pack="mdi"
              icon="format-list-bulleted-square" size="medium" clickable @click="sessionStore.clickViewOption" />
          </div>
        </div>
      </div>
    </div>
  </div> `)],2112)}}}),Zn=de(Xn,[["__scopeId","data-v-437ffddd"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/common/StaffHeader.vue"]]),Gn=O=>(Te("data-v-1be85162"),O=O(),De(),O),Jn={class:"assignment-sub-container"},Qn=["onClick"],es={class:"card-title"},ts={class:"ellipsis"},ns={class:"status-outer-container"},ss=Gn(()=>e("div",{class:"status-container"},[e("span",null,"STATUS")],-1)),os={key:0,class:"status-text"},as={key:1,class:"status-text"},is={class:"update-btn-container"},ls=ce({__name:"StaffAssignment",setup(O){const D=_n();return Ce(()=>{D.tenants.length==0&&D.getTenants()}),(l,r)=>{const I=P("o-button");return p(),y(_e,null,[e("div",Jn,[(p(!0),y(_e,null,ve(n(D).tenants,w=>(p(),y("div",{class:Q(["card-container",{unassigned:n(D).selectedTenants.findIndex(W=>W.uuid===w.uuid)===-1,assigned:n(D).selectedTenants.findIndex(W=>W.uuid===w.uuid)!==-1}]),key:w.uuid,onClick:W=>n(D).selectTenant(w)},[e("span",es,[e("div",ts,a(w.tenant_name),1),Se(a(w.room_uuid),1)]),re(' <span class="card-sub-heading ellipsis">{{ tenant.tenant_name }}</span> '),e("div",ns,[ss,n(D).selectedTenants.findIndex(W=>W.uuid===w.uuid)!==-1?(p(),y("span",os,"Assigned")):(p(),y("span",as,"Not Assigned"))])],10,Qn))),128))]),e("div",is,[T(I,{rootClass:"update-btn",labelClass:"logout-label",variant:"info",onClick:n(D).confirmAssignedTenents},{default:pe(()=>[e("span",null,a(l.$t("Assign Tenants")),1)]),_:1},8,["onClick"])])],64)}}}),rs=de(ls,[["__scopeId","data-v-1be85162"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/staff_management/StaffAssignment.vue"]]),fe=mn("nursing_record",()=>{const O=q({}),D=q({}),l=q([]);Ie();const r=q(!1),I=q([]),w=q({}),W=q({}),b=q([]),i=q([]),u=ge(),g=me(),L=()=>{let t=w.value;const s=I.value.findIndex(d=>d.uuid===t.uuid);let _=u.dateTimeToEpochTimestamp(new Date);return s!==-1?(b.value.forEach(d=>{console.log("ThisIOLog Update",d),C(d)}),t.retention_alert_meal=F(t.tenant_uuid),t.modified_on=_,I.value.splice(s,1,t),console.log("IOLogs",i.value.length),console.log("ThisIOLog",b.value.length),Ne.push("management"),{status:"success",data:t}):(console.log("Object not found with UUID:",t.uuid),{status:"fail",message:"Object not found with UUID:"+t.uuid})},c=()=>{r.value=!1},m=t=>{if(I.value.findIndex(_=>_.tenant_uuid===t.uuid&&u.epochTimestampToDateTime(_.modified_on).toLocaleDateString("en-US")===new Date().toLocaleDateString("en-US"))===-1){f(t);let _=u.dateTimeToEpochTimestamp(new Date);I.value.push({uuid:E.string.numeric({length:6,allowLeadingZeros:!0}),tenant_uuid:t.uuid,modified_on:_,notices:"",retention_alert_meal:F(t.uuid),retention_alert_water:N(t.uuid),retention_alert_urine:Y(t.uuid),retention_alert_stool:ee(t.uuid)})}},v=t=>{const s=I.value.findIndex(_=>_.tenant_uuid===t.uuid&&u.epochTimestampToDateTime(_.modified_on).toLocaleDateString("en-US")===new Date().toLocaleDateString("en-US"));s!==-1&&(w.value=I.value[s])},U=t=>{const s=I.value.findIndex(_=>_.tenant_uuid===t&&u.epochTimestampToDateTime(_.modified_on).toLocaleDateString("en-US")===new Date().toLocaleDateString("en-US"));return s!==-1?I.value[s]:{}},H=t=>{t.uuid=E.string.uuid(),b.value.push(t)},R=t=>{const s=b.value.findIndex(_=>_.uuid===t.uuid);b.value[s]=t},A=t=>{const s=b.value.findIndex(_=>_.uuid===t);return s!==-1?b.value[s]:null},z=()=>{b.value.length=0,b.value=i.value.filter(t=>t.tenant_uuid===W.value.uuid&&u.epochTimestampToDateTime(t.log_time).toLocaleDateString("en-US")===new Date().toLocaleDateString("en-US"))},C=t=>{let s=i.value.findIndex(_=>(_==null?void 0:_.uuid)==(t==null?void 0:t.uuid));s!==-1?i.value[s]=t:i.value.push(t)},N=t=>{let s=new Date,_=new Date(s);_.setDate(s.getDate()-1);const M=i.value.filter(k=>k.type==x.Water&&k.tenant_uuid===t&&u.epochTimestampToDateTime(k.log_time).toLocaleDateString("en-US")===new Date(_).toLocaleDateString("en-US")).reduce((k,V)=>{var K;return k+(V.water?(K=V.water)==null?void 0:K.quantity:0)},0);return S(M)},F=t=>{var d,M,k;let s=[];for(let V=0;V<=7;V++){let K=new Date,X=new Date(K);if(X.setDate(K.getDate()-V),s=i.value.filter(Z=>Z.type==x.Meal&&Z.tenant_uuid===t&&u.epochTimestampToDateTime(Z.log_time).toLocaleDateString("en-US")===new Date(X).toLocaleDateString("en-US")).sort((Z,ie)=>{const se={Breakfast:1,Lunch:2,Dinner:3},le=se[Z.frequency_taken],oe=se[ie.frequency_taken];return le-oe}),s.length!=0)break}const _=(d=s[s.length-1])!=null&&d.meal?(k=(M=s[s.length-1])==null?void 0:M.meal)==null?void 0:k.main_level:0;return o(_)},Y=t=>{let s=new Date,_=new Date(s);_.setDate(s.getDate()-1);const d=i.value.filter(k=>k.type==x.Urine&&k.tenant_uuid===t&&u.epochTimestampToDateTime(k.log_time).toLocaleDateString("en-US")===new Date(_).toLocaleDateString("en-US"));let M=0;return d.forEach(k=>{var V;((V=k.urine)==null?void 0:V.status)==!0&&(M+=1)}),h(M)},ee=t=>{let s=new Date,_=new Date(s);_.setDate(s.getDate()-1);const d=i.value.filter(k=>k.type==x.Stool&&k.tenant_uuid===t&&u.epochTimestampToDateTime(k.log_time).toLocaleDateString("en-US")===new Date(_).toLocaleDateString("en-US"));let M=0;return d.forEach(k=>{var V;((V=k.stool)==null?void 0:V.volume)!=we.None&&(M+=1)}),j(M)},S=t=>{let s="Normal";return t>=600?s="Normal":t>=300&&t<=599?s="Be Careful":s="Alert",s},o=t=>{let s="Normal";return t>=8&&t<=10?s="Normal":t>=5&&t<=7?s="Be Careful":s="Alert",s},h=t=>{let s="Alert";return t>=5&&t<=9?s="Normal":t>=3&&t<=4||t>=10?s="Be Careful":(t>=1&&t<=2||t>=15)&&(s="Alert"),s},j=t=>{let s="Alert";return t>=1&&t<=2?s="Normal":t>=3&&t<=4||t>=5?s="Be Careful":(t==0||t<=10)&&(s="Alert"),console.log("retentionAlertStool",t,s),s},G=t=>{let s="";return t=="Normal"?s="card-blue":t=="Be Careful"?s="card-yellow":s="card-red",s},f=t=>{let s=new Date,_=new Date(s);_.setDate(s.getDate()-1);const d=u.dateTimeToEpochTimestamp(_),M={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Meal,frequency_taken:B.Lunch,meal:{main_level:E.number.int({min:1,max:10}),sub_level:E.number.int({min:1,max:10})},staff_uuid:g.session.login_id,log_time:d},k={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Meal,frequency_taken:B.Dinner,meal:{main_level:E.number.int({min:1,max:10}),sub_level:E.number.int({min:1,max:10})},staff_uuid:g.session.login_id,log_time:d},V={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Meal,frequency_taken:B.Breakfast,meal:{main_level:E.number.int({min:1,max:10}),sub_level:E.number.int({min:1,max:10})},staff_uuid:g.session.login_id,log_time:d},K={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Water,frequency_taken:B.Breakfast,water:{quantity:E.number.int({min:0,max:300})},staff_uuid:g.session.login_id,log_time:d},X={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Water,frequency_taken:B.Lunch,water:{quantity:E.number.int({min:0,max:300})},staff_uuid:g.session.login_id,log_time:d},J={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Water,frequency_taken:B.Dinner,water:{quantity:E.number.int({min:0,max:300})},staff_uuid:g.session.login_id,log_time:d},Z={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Urine,urine:{status:E.helpers.arrayElement([!0,!1])},staff_uuid:g.session.login_id,log_time:d},ie={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Urine,urine:{status:E.helpers.arrayElement([!0,!1])},staff_uuid:g.session.login_id,log_time:d},se={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Urine,urine:{status:E.helpers.arrayElement([!0,!1])},staff_uuid:g.session.login_id,log_time:d},le={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Urine,urine:{status:E.helpers.arrayElement([!0,!1])},staff_uuid:g.session.login_id,log_time:d},oe={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Urine,urine:{status:E.helpers.arrayElement([!0,!1])},staff_uuid:g.session.login_id,log_time:d},te={uuid:E.string.uuid(),tenant_uuid:t.uuid,type:x.Stool,frequency_taken:B.Breakfast,stool:{quality:E.helpers.arrayElement(["Normal","Soft","Hard","Mud","Bloody"]),volume:E.helpers.arrayElement(["None","Small","Medium","Large"])},staff_uuid:g.session.login_id,log_time:d};E.string.uuid(),t.uuid,x.Stool,B.Lunch,E.helpers.arrayElement(["Normal","Soft","Hard","Mud","Bloody"]),E.helpers.arrayElement(["None","Small","Medium","Large"]),g.session.login_id,E.string.uuid(),t.uuid,x.Stool,B.Dinner,E.helpers.arrayElement(["Normal","Soft","Hard","Mud","Bloody"]),E.helpers.arrayElement(["None","Small","Medium","Large"]),g.session.login_id,E.string.uuid(),t.uuid,x.Stool,B.Dinner,E.helpers.arrayElement(["Normal","Soft","Hard","Mud","Bloody"]),E.helpers.arrayElement(["None","Small","Medium","Large"]),g.session.login_id,E.string.uuid(),t.uuid,x.Stool,B.Dinner,E.helpers.arrayElement(["Normal","Soft","Hard","Mud","Bloody"]),E.helpers.arrayElement(["None","Small","Medium","Large"]),g.session.login_id,i.value.push(M,k,V,K,X,J,Z,ie,se,le,oe,te)};return{thisNursingRecord:O,selectedNursingRecord:D,nursingRecords:l,showSleepInputModal:r,thisTenant:W,thisIOLogs:b,thisDailyLog:w,dailyLogs:I,ioLogs:i,resetSleepInputModal:c,updateNursingRecord:L,updateIOLog:R,getIOLog:A,addIOLog:H,getIOLogs:z,generateDailyLog:m,setDailyLog:v,getDailyLog:U,retentionAlertClass:G}}),cs=O=>(Te("data-v-875fc35b"),O=O(),De(),O),ds={key:0},us={key:1},_s={key:2},ms={key:3},ps={key:0},gs={key:1},fs={key:9},hs={key:1,class:"item-management-container"},vs={class:"card-header"},bs={class:"card-sub-header"},ys={class:"card-title"},Ss={class:"status-container"},$s={class:"icon-right-container"},ks={key:0,class:"icon-right-text"},ws={key:1,class:"icon-right-text"},Cs={class:"card-footer"},Ts={class:"card-sub-footer"},Ds={class:"card-sub-heading"},Is={class:"card-record-footer"},Ls={class:"record-sub-heading"},Es={class:"value-sub-heading"},Ns=cs(()=>e("div",{class:"broken-line"},null,-1)),Ms={class:"record-sub-heading"},Os={class:"value-sub-heading"},xs=ce({__name:"StaffManagement",setup(O){const D=me(),l=fe(),r=_n(),I=pn(),w=ge();Ie(),Ce(()=>{l.thisNursingRecord={},r.tenants.length==0&&r.getTenants(),r.tenants.forEach(c=>{l.generateDailyLog(c)})});const W=Me(()=>r.tenants.sort((c,m)=>{const v=c.last_sensor_log?c.last_sensor_log.alert:"Normal",U=m.last_sensor_log?m.last_sensor_log.alert:"Normal",H=v==="Normal",R=U==="Normal";return!H&&R?-1:H&&!R?1:0})),b=c=>{c=w.epochTimestampToDateTime(c);const m=new Date(c),v=m.getFullYear(),U=String(m.getMonth()+1).padStart(2,"0"),H=String(m.getDate()).padStart(2,"0"),R=String(m.getHours()).padStart(2,"0"),A=String(m.getMinutes()).padStart(2,"0"),z=String(m.getSeconds()).padStart(2,"0");return`${v}/${U}/${H} ${R}:${A}:${z}`},i=c=>{let m="toilet";return c.toLowerCase().includes("living")?m="sofa":c.toLowerCase().includes("dining")?m="silverware":c.toLowerCase().includes("toilet")?m="toilet":c.toLowerCase().includes("hallway")?m="curtains":c.toLowerCase().includes("own")&&(m="bed"),m},u=q([{field:"room_number",label:"Room Number",width:"10%",numeric:!0},{field:"tenant_name",label:"Fullname",width:"10%"},{field:"room_name",label:"Latest Detection Location",width:"12%"},{field:"heartbeat",label:"Heartbeat",width:"10%"},{field:"body_temperature",label:"Body Temperature",width:"10%"},{field:"retention_alert",label:"Retention Alert",width:"10%"},{field:"meal_amount",label:"Meal Amount Alert",width:"10%"},{field:"water_amount",label:"Water Amount Alert",width:"10%"},{field:"modified_on",label:"Update Time",width:"30%"},{label:"Nursing Care Record",width:"5%",position:"centered"}]),g=c=>{l.selectedNursingRecord=c,l.thisTenant=JSON.parse(JSON.stringify(c)),l.setDailyLog(c),Ne.push("nursing-care-record")},L=c=>{const m=I.rooms.findIndex(v=>v.uuid===c);return m!==-1?I.rooms[m]:{}};return(c,m)=>{const v=P("o-icon"),U=P("o-table-column"),H=P("o-table");return n(D).isListView?(p(),ae(H,{key:0,trSelectedClass:"table-row-selected",defaultSort:["uuid","asc "],hoverable:"",data:W.value,thClass:"table-header",tdClass:"table-body"},{default:pe(()=>[(p(!0),y(_e,null,ve(u.value,(R,A)=>(p(),ae(U,vn({key:A},R,{label:c.$t(R.label)}),{default:pe(({row:z})=>{var C,N,F,Y,ee,S,o,h,j,G,f,t;return[R.label=="Nursing Care Record"?(p(),y("span",ds,[T(v,{pack:"mdi",icon:"clipboard-edit-outline",size:"medium",onClick:s=>g(z)},null,8,["onClick"])])):R.label=="Room Number"?(p(),y("span",us,a(L(z.room_uuid).number),1)):R.label=="Latest Detection Location"?(p(),y("span",_s,a(L(z.room_uuid).number),1)):R.label=="Update Time"?(p(),y("span",ms,a(b(n(l).getDailyLog(z.uuid).modified_on)),1)):R.label=="Retention Alert"?(p(),y("span",{key:4,class:Q(["alert",n(l).retentionAlertClass((C=z.last_sensor_log)==null?void 0:C.alert)])},[((N=z.last_sensor_log)==null?void 0:N.alert)!="Normal"?(p(),y("p",ps,a(c.$t((F=z.last_sensor_log)==null?void 0:F.alert)),1)):(p(),y("p",gs,a(` ${c.$t((Y=z.last_sensor_log)==null?void 0:Y.alert)} `),1))],2)):R.label=="Heartbeat"?(p(),y("span",{key:5,class:Q({"text-color":Number((ee=z.last_sensor_log)==null?void 0:ee.heartbeat)>=93})},a((S=z.last_sensor_log)==null?void 0:S.heartbeat),3)):R.label=="Body Temperature"?(p(),y("span",{key:6,class:Q({"text-color":Number((o=z.last_sensor_log)==null?void 0:o.body_temperature)>=37})},a((h=z.last_sensor_log)==null?void 0:h.body_temperature),3)):R.label=="Meal Amount Alert"?(p(),y("span",{key:7,class:Q(["alert",n(l).retentionAlertClass((j=n(l).getDailyLog(z.uuid))==null?void 0:j.retention_alert_meal)])},a(c.$t((G=n(l).getDailyLog(z.uuid))==null?void 0:G.retention_alert_meal)),3)):R.label=="Water Amount Alert"?(p(),y("span",{key:8,class:Q(["alert",n(l).retentionAlertClass((f=n(l).getDailyLog(z.uuid))==null?void 0:f.retention_alert_water)])},a(c.$t((t=n(l).getDailyLog(z.uuid))==null?void 0:t.retention_alert_water)),3)):(p(),y("span",fs,a(z[R.field]),1))]}),_:2},1040,["label"]))),128))]),_:1},8,["data"])):(p(),y("div",hs,[(p(!0),y(_e,null,ve(W.value,R=>{var A,z,C,N,F,Y,ee;return p(),y("div",{class:Q(["card-container",{"card-blue":((A=R.last_sensor_log)==null?void 0:A.alert)=="Normal","card-red":((z=R.last_sensor_log)==null?void 0:z.alert)!="Normal"}]),key:R.uuid},[e("div",vs,[e("div",bs,[e("span",ys,a(R.tenant_name),1),e("div",Ss,[e("span",null,a(L(R.room_uuid).number),1)])]),e("div",$s,[T(v,{pack:"mdi",icon:i(L(R.room_uuid).number),size:"large",rootClass:"grid-icons"},null,8,["icon"]),((C=R.last_sensor_log)==null?void 0:C.alert)!="Normal"?(p(),y("span",ks,a(`
            ${(N=R.last_sensor_log)==null?void 0:N.alert} `),1)):(p(),y("span",ws,a(` ${c.$t((F=R.last_sensor_log)==null?void 0:F.alert)} `),1))])]),re(' <div class="separator-line"></div> '),e("div",Cs,[e("div",Ts,[e("span",Ds,a(`${c.$t("Room")} ${L(R.room_uuid).number}`),1),e("div",Is,[e("p",Ls,[Se(a(`${c.$t("Heartbeat")} : `)+" ",1),e("span",Es,a(` ${(Y=R.last_sensor_log)==null?void 0:Y.heartbeat} `),1)]),Ns,e("p",Ms,[Se(a(`${c.$t("Body Temperature")} : `)+" ",1),e("span",Os,a(` ${(ee=R.last_sensor_log)==null?void 0:ee.body_temperature} `),1)])])]),T(v,{pack:"mdi",icon:"clipboard-edit-outline",size:"medium",rootClass:"grid-footer-icon",onClick:S=>g(R)},null,8,["onClick"])])],2)}),128))]))}}}),Rs=de(xs,[["__scopeId","data-v-875fc35b"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/staff_management/StaffManagement.vue"]]),Us={class:"modal-container"},As={class:"modal-title-container"},Ws={class:"modal-content-container"},Bs=ce({__name:"SleepInputModal",props:{time:{type:String,required:!0,default:"00:00"}},setup(O){const D=fe(),l=ge(),r=me(),w=q(O.time),W=(i,u)=>{let g=b($e,w.value);if(g){let L=D.thisIOLogs.findIndex(m=>m.type===x.Sleeping&&m.time_index===ye[g]),c=l.dateTimeToEpochTimestamp(new Date);if(L!==-1){let m=D.thisIOLogs[L];m.log_time=c,m.sleeping=u,D.updateIOLog(m)}else{let m={tenant_uuid:D.thisTenant.uuid,type:x.Sleeping,time_index:ye[g],sleeping:u,staff:r.session.fullName,log_time:c,uuid:"",staff_uuid:r.session.login_id};D.addIOLog(m)}i("close")}};function b(i,u){for(const g of Object.keys(i))if(i[g]===u)return g}return(i,u)=>{const g=P("o-icon"),L=P("o-button");return p(),y("div",Us,[e("div",As,[T(g,{rootClass:"modal-icon",pack:"mdi",icon:"bed-clock",size:"large",variant:"success"}),e("h1",null,a(i.$t("Update Sleep State")),1)]),e("div",Ws,[T(L,{onClick:u[0]||(u[0]=c=>W(i.$emit,!0)),labelClass:"btn-label",rootClass:"sleep-btn",label:i.$t("Asleep"),variant:"primary",size:"large",expanded:""},null,8,["label"]),T(L,{onClick:u[1]||(u[1]=c=>W(i.$emit,!1)),labelClass:"btn-label",rootClass:"awake-btn",label:i.$t("Awake"),variant:"primary",size:"large",expanded:""},null,8,["label"]),T(L,{onClick:u[2]||(u[2]=c=>i.$emit("close")),labelClass:"btn-label",rootClass:"cancel-btn",label:i.$t("Cancel"),variant:"primary",size:"large",expanded:""},null,8,["label"])])])}}}),Hs=de(Bs,[["__scopeId","data-v-3c089bef"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/modals/SleepInputModal.vue"]]),Vs={class:"modal-container sm-padding"},zs={class:"modal-title-container"},qs={class:"modal-content-container no-margin"},Ys={class:"modal-time-container"},Fs={class:"time-text"},Ks={class:"modal-btn-container"},Ps=ce({__name:"UrineInputModal",props:{time:{type:String,required:!0,default:"00:00"}},setup(O){const D=ge(),l=me(),r=fe(),w=q(O.time);q(!1);const W=(i,u)=>{let g=b($e,w.value);if(g){let L=r.thisIOLogs.findIndex(c=>c.type===x.Urine&&c.time_index===ye[g]);if(L!==-1){let c=r.thisIOLogs[L];c.urine={status:u},r.updateIOLog(c)}else{let c=D.dateTimeToEpochTimestamp(new Date),m={tenant_uuid:r.thisTenant.uuid,type:x.Urine,time_index:ye[g],urine:{status:u},staff:l.session.fullName,log_time:c,uuid:"",staff_uuid:l.session.login_id};r.addIOLog(m)}i("close")}};function b(i,u){for(const g of Object.keys(i))if(i[g]===u)return g}return(i,u)=>{const g=P("o-icon"),L=P("o-button");return p(),y("div",Vs,[e("div",zs,[T(g,{rootClass:"modal-icon",pack:"mdi",icon:"toilet",size:"large",variant:"success"}),e("h1",null,a(i.$t("Urine Excretion")),1)]),e("div",qs,[e("div",Ys,[T(g,{rootClass:"modal-white-icon",pack:"mdi",icon:"clock-time-seven",size:"medium",variant:"success"}),e("span",Fs,a(w.value),1)]),T(L,{onClick:u[0]||(u[0]=c=>W(i.$emit,!0)),labelClass:"btn-label",rootClass:"sleep-btn",label:i.$t("Urinated"),variant:"primary",size:"large",expanded:""},null,8,["label"]),T(L,{onClick:u[1]||(u[1]=c=>W(i.$emit,!1)),labelClass:"btn-label",rootClass:"none-btn",label:i.$t("None"),variant:"primary",size:"large",expanded:""},null,8,["label"]),e("div",Ks,[T(L,{onClick:u[2]||(u[2]=c=>i.$emit("close")),labelClass:"btn-label",rootClass:"cancel-btn",label:i.$t("Cancel"),variant:"primary",size:"large"},null,8,["label"])])])])}}}),js=de(Ps,[["__scopeId","data-v-2fb1e2dd"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/modals/UrineInputModal.vue"]]),Xs={class:"modal-container sm-padding"},Zs={class:"modal-title-container"},Gs={class:"modal-content-container no-margin"},Js={class:"modal-time-container"},Qs={class:"time-text"},eo={class:"modal-btn-container"},to=ce({__name:"StoolInputModal",props:{time:{type:String,required:!0,default:"00:00"}},setup(O){const D=ge(),l=me(),r=fe(),I=q(),w=q(),W=q([ke.Normal,ke.Soft,ke.Hard,ke.Mud,ke.Bloody]),b=q([we.None,we.Small,we.Meduim,we.Large]),u=q(O.time),g=c=>{let m=L($e,u.value);if(m){let v=r.thisIOLogs.findIndex(U=>U.type===x.Stool&&U.time_index===ye[m]);if(v!==-1){let U=r.thisIOLogs[v];U.stool={volume:w.value,quality:I.value},r.updateIOLog(U)}else{let U=D.dateTimeToEpochTimestamp(new Date),H={tenant_uuid:r.thisTenant.uuid,type:x.Stool,time_index:ye[m],stool:{volume:w.value,quality:I.value},staff:l.session.fullName,log_time:U,uuid:"",staff_uuid:l.session.login_id};r.addIOLog(H)}c("close")}};function L(c,m){for(const v of Object.keys(c))if(c[v]===m)return v}return(c,m)=>{const v=P("o-icon"),U=P("o-button"),H=P("o-dropdown-item"),R=P("o-dropdown");return p(),y("div",Xs,[e("div",Zs,[T(v,{rootClass:"modal-icon",pack:"mdi",icon:"toilet",size:"large",variant:"success"}),e("h1",null,a(c.$t("Stool Execretion")),1)]),e("div",Gs,[e("div",Js,[T(v,{rootClass:"modal-white-icon",pack:"mdi",icon:"clock-time-seven",size:"medium",variant:"success"}),e("span",Qs,a(u.value),1)]),T(R,{modelValue:w.value,"onUpdate:modelValue":m[0]||(m[0]=A=>w.value=A),menuClass:"stool-dropdown-container",scrollable:""},{trigger:pe(({active:A})=>[T(U,{rootClass:"stool-dropdown",label:c.$t(w.value?w.value:"Volume"),"icon-right":A?"menu-up":"menu-down"},null,8,["label","icon-right"])]),default:pe(()=>[(p(!0),y(_e,null,ve(b.value,A=>(p(),ae(H,{value:A,itemClass:"stool-dropdown-items",itemActiveClass:"stool-dropdown-items-active",label:c.$t(A)},null,8,["value","label"]))),256))]),_:1},8,["modelValue"]),T(R,{modelValue:I.value,"onUpdate:modelValue":m[1]||(m[1]=A=>I.value=A),menuClass:"stool-dropdown-container",scrollable:""},{trigger:pe(({active:A})=>[T(U,{rootClass:"stool-dropdown",label:c.$t(I.value?I.value:"Quality"),"icon-right":A?"menu-up":"menu-down",customSize:"mdi-36px"},null,8,["label","icon-right"])]),default:pe(()=>[(p(!0),y(_e,null,ve(W.value,A=>(p(),ae(H,{itemClass:"stool-dropdown-items",itemActiveClass:"stool-dropdown-items-active",label:c.$t(A),value:A},null,8,["label","value"]))),256))]),_:1},8,["modelValue"]),e("div",eo,[T(U,{onClick:m[2]||(m[2]=A=>g(c.$emit)),labelClass:"btn-label",rootClass:"update-btn",label:c.$t("Update"),variant:"primary",size:"large"},null,8,["label"]),T(U,{onClick:m[3]||(m[3]=A=>c.$emit("close")),labelClass:"btn-label",rootClass:"cancel-btn",label:c.$t("Cancel"),variant:"primary",size:"large"},null,8,["label"])])])])}}}),no=de(to,[["__scopeId","data-v-6e89263c"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/modals/StoolInputModal.vue"]]),so=O=>(Te("data-v-6eb50568"),O=O(),De(),O),oo={class:"modal-long-container sm-lg-padding"},ao={class:"modal-title-container no-margin"},io={class:"modal-content-container row-gap-20 no-margin"},lo=so(()=>e("span",{class:"slash-separator"},"/",-1)),ro={class:"calculator-button-container"},co=ce({__name:"MealInputModal",props:{time:{type:String,required:!0,default:"Breakfast"}},setup(O){const D=ge(),l=me();Ie();const r=O,I=fe(),w=q(r.time),W=q([1,2,3,4,5,6,7,8,9,0,10]),b=q(),i=q(),u=v=>{b.value==null?b.value=v:i.value==null&&(i.value=v)},g=()=>{b.value=null,i.value=null},L=Me(()=>w.value+" Meal Amount"),c=v=>{let U=m(B,w.value);if(U){let H=I.thisIOLogs.findIndex(A=>A.type===x.Meal&&A.frequency_taken===B[U]),R=D.dateTimeToEpochTimestamp(new Date);if(H!==-1){let A=I.thisIOLogs[H];A.log_time=R,A.meal={main_level:b.value,sub_level:i.value},I.updateIOLog(A)}else{let A={tenant_uuid:I.thisTenant.uuid,type:x.Meal,frequency_taken:B[U],meal:{main_level:b.value,sub_level:i.value},staff:l.session.fullName,log_time:R,uuid:"",staff_uuid:l.session.login_id};I.addIOLog(A)}v("close")}};function m(v,U){for(const H of Object.keys(v))if(v[H]===U)return H}return(v,U)=>{const H=P("o-icon"),R=P("o-input"),A=P("o-field"),z=P("o-button");return p(),y("div",oo,[e("div",ao,[T(H,{rootClass:"modal-icon",pack:"mdi",icon:"cup",size:"large",variant:"success"}),e("h1",null,a(v.$t(L.value)),1)]),e("div",io,[T(A,{class:"no-margin",rootClass:"meal-field-root",bodyClass:"meal-field-body",addonsClass:"meal-field-body"},{default:pe(()=>[T(R,{modelValue:b.value,"onUpdate:modelValue":U[0]||(U[0]=C=>b.value=C),size:"large",inputClass:"meal-input",expanded:"",disabled:""},null,8,["modelValue"]),lo,T(R,{modelValue:i.value,"onUpdate:modelValue":U[1]||(U[1]=C=>i.value=C),size:"large",inputClass:"meal-input",expanded:"",disabled:""},null,8,["modelValue"])]),_:1}),e("div",ro,[(p(!0),y(_e,null,ve(W.value,C=>(p(),ae(z,{onClick:N=>u(C),label:C.toString(),size:"large",rootClass:"calculator-btn",labelClass:"calculator-btn-label"},null,8,["onClick","label"]))),256)),T(z,{onClick:U[2]||(U[2]=C=>g()),label:"Clr",size:"large",rootClass:"calculator-btn",labelClass:"calculator-btn-label"})]),T(z,{onClick:U[3]||(U[3]=C=>c(v.$emit)),labelClass:"btn-label",rootClass:"update-btn",label:v.$t("Update"),variant:"primary",size:"large",expanded:""},null,8,["label"])])])}}}),uo=de(co,[["__scopeId","data-v-6eb50568"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/modals/MealInputModal.vue"]]),_o={class:"modal-long-container"},mo={class:"modal-title-container"},po={class:"modal-content-container no-margin"},go=ce({__name:"NoticeInputModal",props:{notices:{type:String,required:!0,default:""}},setup(O){const D=ge(),l=me(),r=fe(),w=q(O.notices),W=b=>{let i=D.dateTimeToEpochTimestamp(new Date),u=r.thisIOLogs.findIndex(g=>g.type===x.Notices);if(u!==-1){let g=r.thisIOLogs[u];g.log_time=i,g.notices=w.value,r.updateIOLog(g)}else{let g={tenant_uuid:r.thisTenant.uuid,type:x.Notices,notices:w.value,staff:l.session.fullName,log_time:i,uuid:"",staff_uuid:l.session.login_id};r.addIOLog(g)}b("close")};return(b,i)=>{const u=P("o-icon"),g=P("o-input"),L=P("o-button");return p(),y("div",_o,[e("div",mo,[T(u,{rootClass:"modal-icon",pack:"mdi",icon:"bulletin-board",size:"large",variant:"success"}),e("h1",null,a(b.$t("Update Notices")),1)]),e("div",po,[T(g,{modelValue:w.value,"onUpdate:modelValue":i[0]||(i[0]=c=>w.value=c),textareaClass:"notice-input",type:"textarea",expanded:""},null,8,["modelValue"]),T(L,{onClick:i[1]||(i[1]=c=>W(b.$emit)),labelClass:"btn-label",rootClass:"update-btn",label:b.$t("Update"),variant:"primary",size:"large",expanded:""},null,8,["label"])])])}}}),fo=de(go,[["__scopeId","data-v-15605617"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/modals/NoticeInputModal.vue"]]),ho={class:"modal-long-container sm-lg-padding"},vo={class:"modal-title-container no-margin"},bo={class:"modal-content-container row-gap-20 no-margin"},yo={class:"water-button-container"},So=ce({__name:"WaterInputModal",props:{time:{type:String,required:!0,default:"Breakfast"}},setup(O){const D=ge(),l=me(),I=q(O.time),w=q(""),W=q([1,2,3,4,5,6,7,8,9,0]),b=fe(),i=c=>{w.value+=c},u=()=>{w.value=w.value.slice(0,-1)},g=c=>{let m=L(B,I.value);if(m){let v=b.thisIOLogs.findIndex(H=>H.type===x.Water&&H.frequency_taken===B[m]),U=D.dateTimeToEpochTimestamp(new Date);if(v!==-1){let H=b.thisIOLogs[v];H.log_time=U,H.water={quantity:w.value},b.updateIOLog(H)}else{let H={tenant_uuid:b.thisTenant.uuid,type:x.Water,frequency_taken:B[m],water:{quantity:w.value},staff:l.session.fullName,log_time:U,uuid:"",staff_uuid:l.session.login_id};b.addIOLog(H)}c("close")}};function L(c,m){for(const v of Object.keys(c))if(c[v]===m)return v}return(c,m)=>{const v=P("o-icon"),U=P("o-input"),H=P("o-button"),R=P("o-field");return p(),y("div",ho,[e("div",vo,[T(v,{rootClass:"modal-icon",pack:"mdi",icon:"cup",size:"large",variant:"success"}),e("h1",null,a(c.$t("Water Amount")),1)]),e("div",bo,[T(R,{class:"no-margin",rootClass:"field-root",bodyClass:"field-body",addonsClass:"field-body"},{default:pe(()=>[T(U,{modelValue:w.value,"onUpdate:modelValue":m[0]||(m[0]=A=>w.value=A),size:"large",inputClass:"water-input",expanded:""},null,8,["modelValue"]),T(H,{label:"ml",size:"large",rootClass:"water-input-unit"})]),_:1}),e("div",yo,[(p(!0),y(_e,null,ve(W.value,A=>(p(),ae(H,{onClick:z=>i(A),label:A.toString(),size:"large",rootClass:"calculator-btn",labelClass:"calculator-btn-label"},null,8,["onClick","label"]))),256)),T(H,{onClick:m[1]||(m[1]=A=>u()),"icon-right":"keyboard-backspace",size:"large",rootClass:"calculator-btn",labelClass:"calculator-btn-label"})]),T(H,{onClick:m[2]||(m[2]=A=>g(c.$emit)),labelClass:"btn-label",rootClass:"update-btn",label:c.$t("Update"),variant:"primary",size:"large",expanded:""},null,8,["label"])])])}}}),$o=de(So,[["__scopeId","data-v-393a1406"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/modals/WaterInputModal.vue"]]),ko={class:"modal-medium-container"},wo={class:"modal-title-container"},Co={class:"modal-content-container"},To=ce({__name:"MedicationInputModal",props:{title:{type:String,required:!0,default:""}},setup(O){const D=ge();Ie();const r=q(O.title),I=fe(),w=me(),W=Me(()=>`Medication (${r.value})`),b=(u,g)=>{let L=i(B,r.value);if(L){let c=I.thisIOLogs.findIndex(v=>v.type===x.Medication&&v.frequency_taken===B[L]),m=D.dateTimeToEpochTimestamp(new Date);if(c!==-1){let v=I.thisIOLogs[c];v.log_time=m,v.medication={status:g},I.updateIOLog(v)}else{let v={tenant_uuid:I.thisTenant.uuid,type:x.Medication,frequency_taken:B[L],medication:{status:g},staff:w.session.fullName,log_time:m,uuid:"",staff_uuid:w.session.login_id};I.addIOLog(v)}u("close")}};function i(u,g){for(const L of Object.keys(u))if(u[L]===g)return L}return(u,g)=>{const L=P("o-icon"),c=P("o-button");return p(),y("div",ko,[e("div",wo,[T(L,{rootClass:"modal-icon",pack:"mdi",icon:"pill",size:"large",variant:"success"}),e("h1",null,a(u.$t(W.value)),1)]),e("div",Co,[T(c,{onClick:g[0]||(g[0]=m=>b(u.$emit,"Medication Taken")),labelClass:"btn-label",rootClass:"sleep-btn",label:u.$t("Medication Taken"),variant:"primary",size:"large",expanded:""},null,8,["label"]),T(c,{onClick:g[1]||(g[1]=m=>b(u.$emit,"No Prescription")),labelClass:"btn-label",rootClass:"awake-btn",label:u.$t("No Prescription"),variant:"primary",size:"large",expanded:""},null,8,["label"]),T(c,{onClick:g[2]||(g[2]=m=>b(u.$emit,"Cannot Take Prescription")),labelClass:"btn-label",rootClass:"awake-btn",label:u.$t("Cannot Take Prescription"),variant:"primary",size:"large",expanded:""},null,8,["label"]),T(c,{onClick:g[3]||(g[3]=m=>u.$emit("close")),labelClass:"btn-label",rootClass:"cancel-btn",label:u.$t("Cancel"),variant:"primary",size:"large",expanded:""},null,8,["label"])])])}}}),Do=de(To,[["__scopeId","data-v-177d07a7"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/modals/MedicationInputModal.vue"]]),Le=O=>(Te("data-v-eb3ef8c5"),O=O(),De(),O),Io={class:"image is-128x128 hide-image"},Lo=["src"],Eo={key:1,src:gn},No={class:"box first-row-card"},Mo={class:"image is-128x128 show-image"},Oo=["src"],xo={key:1,src:gn},Ro={class:"patient-general-info-card"},Uo={class:"card-header"},Ao={class:"typography-card-header"},Wo={class:"card-table"},Bo={class:"table-content"},Ho={class:"t-header typography-table-header"},Vo={class:"t-data typography-table-data"},zo={class:"table-content"},qo={class:"t-header typography-table-header"},Yo={class:"t-data typography-table-data"},Fo={class:"table-content"},Ko={class:"t-header typography-table-header"},Po={class:"t-data typography-table-data"},jo={class:"table-content"},Xo={class:"t-header typography-table-header"},Zo={class:"t-data typography-table-data"},Go={class:"table-content"},Jo={class:"t-header typography-table-header"},Qo={class:"t-data typography-table-data"},ea={class:"table-content"},ta={class:"t-header typography-table-header"},na={class:"t-data typography-table-data"},sa={key:0},oa={key:1},aa={class:"table-content"},ia={class:"t-header typography-table-header"},la={class:"t-data typography-table-data"},ra={class:"check-box-card"},ca={class:"checkbox o-checkbox"},da=["checked"],ua={class:"checkbox o-checkbox"},_a=["checked"],ma={class:"box intake-med-management"},pa={class:"box second-row-card"},ga={class:"card-header"},fa={class:"typography-card-header"},ha={class:"card-table"},va={class:"table-content"},ba=Le(()=>e("div",{class:"t-header typography-table-header"},null,-1)),ya={class:"t-data typography-table-data"},Sa={class:"t-data typography-table-data"},$a={class:"table-content"},ka={class:"t-header typography-table-header"},wa={class:"table-content"},Ca={class:"t-header typography-table-header"},Ta=Le(()=>e("div",{class:"t-data typography-table-data"},null,-1)),Da={class:"table-content"},Ia={class:"t-header typography-table-header"},La={class:"table-content"},Ea={class:"t-header typography-table-header"},Na=Le(()=>e("div",{class:"t-data typography-table-data"},null,-1)),Ma={class:"table-content"},Oa={class:"t-header typography-table-header"},xa={class:"table-content"},Ra={class:"t-header typography-table-header"},Ua={class:"t-data typography-table-data"},Aa={key:0},Wa={key:1},Ba={class:"t-data typography-table-data"},Ha={key:0},Va={key:1},za={class:"box second-row-card"},qa={class:"card-header"},Ya={class:"typography-card-header"},Fa={class:"card-table"},Ka={class:"t-header typography-table-header"},Pa={class:"t-data typography-table-data"},ja={class:"t-data typography-table-data"},Xa={class:"t-header typography-table-header"},Za={class:"t-data typography-table-data"},Ga={class:"t-data typography-table-data"},Ja={class:"t-header typography-table-header"},Qa={class:"t-data typography-table-data"},ei={class:"t-data typography-table-data"},ti={class:"t-header typography-table-header"},ni={class:"t-data typography-table-data"},si={class:"t-data typography-table-data"},oi={class:"box third-row-card"},ai={class:"card-header"},ii={class:"typography-card-header"},li={class:"card-table"},ri={class:"table-content"},ci=Le(()=>e("div",{class:"t-header typography-table-header"},null,-1)),di={class:"t-data typography-table-data"},ui={class:"t-data typography-table-data"},_i={key:0,class:"table-content"},mi={class:"t-header typography-table-header trc-table-header trc-table-header-sleep"},pi={class:"with-vertical-line"},gi={class:"t-data typography-table-data trc-table-data"},fi={class:"t-data typography-table-data trc-table-data"},hi={key:0},vi={key:2,style:{display:"flex","flex-direction":"column"}},bi={key:1,class:"table-content"},yi={class:"t-header typography-table-header trc-table-header trc-table-header-sleep"},Si={class:"with-vertical-line"},$i={class:"t-data typography-table-data trc-table-data"},ki={class:"t-data typography-table-data trc-table-data"},wi={key:0},Ci={key:2,style:{display:"flex","flex-direction":"column"}},Ti={key:2,class:"table-content"},Di={class:"t-header typography-table-header trc-table-header trc-table-header-sleep"},Ii={class:"with-vertical-line"},Li={class:"t-data typography-table-data trc-table-data"},Ei={class:"t-data typography-table-data trc-table-data"},Ni={key:0},Mi={key:2,style:{display:"flex","flex-direction":"column"}},Oi={key:3,class:"table-content"},xi={class:"t-header typography-table-header trc-table-header trc-table-header-sleep"},Ri={class:"with-vertical-line"},Ui={class:"t-data typography-table-data trc-table-data"},Ai={class:"t-data typography-table-data trc-table-data"},Wi={key:0},Bi={key:2,style:{display:"flex","flex-direction":"column"}},Hi={key:4,class:"table-content"},Vi={class:"t-header typography-table-header trc-table-header"},zi={class:"with-vertical-line trc-table-header-awake",style:{"text-wrap":"balance"}},qi={class:"t-data typography-table-data",style:{"margin-left":"1rem"}},Yi={key:0},Fi={key:1},Ki={class:"t-data typography-table-data",style:{"margin-left":"1rem"}},Pi={key:0},ji={key:1},Xi={key:5,class:"table-content"},Zi={class:"t-header typography-table-header trc-table-header"},Gi={class:"with-vertical-line trc-table-header-awake"},Ji={class:"t-data typography-table-data"},Qi=["onClick"],el={class:"t-data typography-table-data"},tl=["onClick"],nl={key:0},sl={key:2,style:{display:"flex","flex-direction":"column"}},ol={key:6,class:"remove-flex"},al={class:"fourth-row-card"},il={class:"notices-card"},ll={class:"card-header",style:{"border-bottom":"solid 1px",cursor:"pointer"}},rl={class:"typography-card-header"},cl={class:"table-content"},dl={class:"t-data typography-table-data",style:{overflow:"auto","padding-top":"10px",margin:"0px"}},ul={class:"fifth-row-card"},_l=ce({__name:"StaffNursingCareRecord",setup(O){const D=bn(),{t:l}=Ie(),r=fe(),I=pn(),w=me(),W=ge();Ce(()=>{r.getIOLogs()});const b=S=>{const o=I.rooms.findIndex(h=>h.uuid===S);return o!==-1?I.rooms[o]:{}},i=(S,o)=>{const h=r.thisIOLogs;if(h==null)return null;const j=h;return j.length==0?null:j.filter(f=>f.type==S&&(f==null?void 0:f.time_index)==ye[o])[0]},u=(S,o)=>{const h=r.thisIOLogs;if(h==null)return null;const j=h;return j.length==0?null:j.filter(f=>f.type==S&&(f==null?void 0:f.frequency_taken)==B[o])[0]},g=S=>{const o=r.thisIOLogs;if(o==null)return null;const h=o;return h.length==0?null:h.filter(G=>G.type==S)[0]},L=S=>w.userList.find(o=>o.login_id==S),c=S=>{var j,G;console.log("CheckBoxOnChange",S);let o=W.dateTimeToEpochTimestamp(new Date),h=r.thisIOLogs.findIndex(f=>f.type===S);switch(S){case x.WearingWatch:if(h!==-1){let f=r.thisIOLogs[h];f.log_time=o,f.not_wearing_watch=!((j=g(x.WearingWatch))!=null&&j.not_wearing_watch),r.updateIOLog(f)}else{let f={tenant_uuid:r.thisTenant.uuid,type:S,not_wearing_watch:!0,staff:w.session.fullName,log_time:o,uuid:"",staff_uuid:w.session.login_id};r.addIOLog(f)}break;case x.Facility:if(h!==-1){let f=r.thisIOLogs[h];f.log_time=o,f.not_in_facility=!((G=g(x.Facility))!=null&&G.not_in_facility),r.updateIOLog(f)}else{let f={tenant_uuid:r.thisTenant.uuid,type:S,not_in_facility:!0,staff:w.session.fullName,log_time:o,uuid:"",staff_uuid:w.session.login_id};r.addIOLog(f)}break}},m=S=>{console.log("Open Awake Popup",S),D.modal.open({component:Hs,teleport:!0,cancelable:["x"],contentClass:"modal-content",overlayClass:"modal-overlay",closeClass:"modal-close",props:{time:$e[S]}})},v=(S,o)=>{console.log("Open clickExcretionStoolUrine Record Popup",S,o),o=="Stool"?D.modal.open({component:no,contentClass:"modal-content",overlayClass:"modal-overlay",cancelable:["x"],props:{time:$e[S]}}):o=="Urine"&&D.modal.open({component:js,contentClass:"modal-content",overlayClass:"modal-overlay",cancelable:["x"],props:{time:$e[S]}})},U=S=>{console.log("Open clickBreakfastLunchDinnerSpan Popup"),D.modal.open({component:uo,contentClass:"modal-content",overlayClass:"modal-overlay",props:{time:S}})},H=S=>{console.log("Open Waker Intake Popup"),D.modal.open({component:$o,contentClass:"modal-content",overlayClass:"modal-overlay",props:{time:S}})},R=S=>{console.log("clickMedicineIntake"),D.modal.open({component:Do,contentClass:"modal-content",overlayClass:"modal-overlay",props:{title:S}})},A=()=>{var S;console.log("Open Notice Popup"),D.modal.open({component:fo,teleport:!0,cancelable:["x"],contentClass:"modal-content",overlayClass:"modal-overlay",closeClass:"modal-close",props:{notices:(S=g(x.Notices))==null?void 0:S.notices}})},z=S=>{if(!S)return"";const o=new Date(S),h=o.getFullYear(),j=String(o.getMonth()+1).padStart(2,"0"),G=String(o.getDate()).padStart(2,"0"),f=String(o.getHours()).padStart(2,"0"),t=String(o.getMinutes()).padStart(2,"0"),s=String(o.getSeconds()).padStart(2,"0");return`${h}/${j}/${G} ${f}:${t}:${s}`},C=S=>S==null?"":`${S==null?void 0:S.main_level} / ${S==null?void 0:S.sub_level}`,N=S=>{var o,h,j,G,f,t,s,_;return((h=(o=u("Medication",S))==null?void 0:o.medication)==null?void 0:h.status)==Ee.Taken?"circle-outline":((G=(j=u("Medication",S))==null?void 0:j.medication)==null?void 0:G.status)==Ee.Taken||((t=(f=u("Medication",S))==null?void 0:f.medication)==null?void 0:t.status)==Ee.No_Prescription?"window-close":((_=(s=u("Medication",S))==null?void 0:s.medication)==null?void 0:_.status)==null?"":"window-close"};function F(){return["NINE_ELEVEN","ELEVEN_FOURTEEN","FOURTEEN_SIXTEEN","SIXTEEN_EIGHTEEN","EIGHTEEN_TWENTYONE","KOT"]}const Y=()=>["ZERO","ZERO_THREE","THREE","THREE_SIX","SIX","SIX_NINE","NINE_ELEVEN","ELEVEN_FOURTEEN","FOURTEEN_SIXTEEN","SIXTEEN_EIGHTEEN","EIGHTEEN_TWENTYONE","TWENTY_ONE","TWENTY_ZERO","KOT"],ee=S=>{switch(S){case"ZERO":return"00:00";case"THREE":return"03:00";case"SIX":return"06:00";case"TWENTY_ONE":return"21:00";case"NINE_ELEVEN":return"09:00";case"ELEVEN_FOURTEEN":return"11:00";case"FOURTEEN_SIXTEEN":return"14:00";case"SIXTEEN_EIGHTEEN":return"16:00";case"EIGHTEEN_TWENTYONE":return"18:00";case"KOT":return"Kot(coat)";default:return""}};return(S,o)=>{var G,f,t,s,_,d,M,k,V,K,X,J,Z,ie,se,le,oe,te,ue,he,be,Oe,xe,Re,Ue,Ae,We,Be,He,Ve,ze,qe,Ye,Fe;const h=P("o-icon"),j=P("o-button");return p(),y(_e,null,[e("figure",Io,[n(r).thisTenant.thumbnail_url?(p(),y("img",{key:0,src:n(r).thisTenant.thumbnail_url},null,8,Lo)):(p(),y("img",Eo))]),e("div",No,[e("figure",Mo,[n(r).thisTenant.thumbnail_url?(p(),y("img",{key:0,src:n(r).thisTenant.thumbnail_url},null,8,Oo)):(p(),y("img",xo))]),e("div",Ro,[e("div",Uo,[T(h,{class:"o-icon-class",pack:"mdi",icon:"account-circle",size:"medium"}),e("span",Ao,a(n(l)("Patient General Information")),1)]),e("div",Wo,[e("div",Bo,[e("div",Ho,a(n(l)("Room Number")),1),e("div",Vo,a(b(n(r).thisTenant.room_uuid).number),1)]),e("div",zo,[e("div",qo,a(n(l)("Fullname")),1),e("div",Yo,a(n(r).thisTenant.tenant_name),1)]),e("div",Fo,[e("div",Ko,a(n(l)("Latest Detected Location")),1),e("div",Po,a(b(n(r).thisTenant.room_uuid).number),1)]),e("div",jo,[e("div",Xo,a(n(l)("Heartbeat")),1),e("div",Zo,a((G=n(r).thisTenant.last_sensor_log)==null?void 0:G.heartbeat),1)]),e("div",Go,[e("div",Jo,a(n(l)("Body Temperature")),1),e("div",Qo,a((f=n(r).thisTenant.last_sensor_log)==null?void 0:f.body_temperature),1)]),e("div",ea,[e("div",ta,a(n(l)("Retention Alert")),1),e("div",na,[e("span",{class:Q(["alert",n(r).retentionAlertClass((t=n(r).thisTenant.last_sensor_log)==null?void 0:t.alert)])},[((s=n(r).thisTenant.last_sensor_log)==null?void 0:s.alert)!="Normal"?(p(),y("p",sa,a(n(l)((_=n(r).thisTenant.last_sensor_log)==null?void 0:_.alert)),1)):(p(),y("p",oa,a(n(l)((d=n(r).thisTenant.last_sensor_log)==null?void 0:d.alert)),1))],2)])]),e("div",aa,[e("div",ia,a(n(l)("Updated At")),1),e("div",la,a(z(n(r).thisTenant.modified_on)),1)])])]),e("div",ra,[e("label",ca,[e("input",{type:"checkbox",onChange:o[0]||(o[0]=$=>c(n(x).WearingWatch)),checked:(M=g(n(x).WearingWatch))==null?void 0:M.not_wearing_watch},null,40,da),Se(" "+a(n(l)("Not Wearing Watch")),1)]),e("label",ua,[e("input",{type:"checkbox",onChange:o[1]||(o[1]=$=>c(n(x).Facility)),checked:(k=g(n(x).Facility))==null?void 0:k.not_in_facility},null,40,_a),Se(" "+a(n(l)("Not in Facility")),1)])])]),e("div",ma,[e("div",pa,[e("div",ga,[T(h,{class:"o-icon-class",pack:"mdi",icon:"food-fork-drink",size:"medium"}),e("span",fa,a(n(l)("Meal/Water Intake")),1)]),e("div",ha,[e("div",va,[ba,e("div",ya,[re(" <span>{{ t('Meal') }}</span> "),e("span",null,a(n(l)("Main/Sub")),1)]),e("div",Sa,[e("span",null,a(n(l)("Moisture (ml)")),1),re(" <span>{{ t('ml') }}</span> ")])]),e("div",$a,[e("div",ka,a(n(l)("Breakfast")),1),e("div",{onClick:o[2]||(o[2]=$=>U(n(B).Breakfast)),class:"t-data typography-table-data src-table-cell"},a(C((V=u(n(x).Meal,n(B).Breakfast))==null?void 0:V.meal)),1),e("div",{onClick:o[3]||(o[3]=$=>H(n(B).Breakfast)),class:"t-data typography-table-data src-table-cell"},a((X=(K=u(n(x).Water,n(B).Breakfast))==null?void 0:K.water)==null?void 0:X.quantity),1)]),e("div",wa,[e("div",Ca,a(n(l)("Water Intake")),1),Ta,e("div",{onClick:o[4]||(o[4]=$=>H(n(B).AM)),class:"t-data typography-table-data src-table-cell"},a((Z=(J=u(n(x).Water,n(B).AM))==null?void 0:J.water)==null?void 0:Z.quantity),1)]),e("div",Da,[e("div",Ia,a(n(l)("Lunch")),1),e("div",{onClick:o[5]||(o[5]=$=>U(n(B).Lunch)),class:"t-data typography-table-data src-table-cell"},a(C((ie=u(n(x).Meal,n(B).Lunch))==null?void 0:ie.meal)),1),e("div",{onClick:o[6]||(o[6]=$=>H(n(B).Lunch)),class:"t-data typography-table-data src-table-cell"},a((le=(se=u(n(x).Water,n(B).Lunch))==null?void 0:se.water)==null?void 0:le.quantity),1)]),e("div",La,[e("div",Ea,a(n(l)("Water Intake")),1),Na,e("div",{onClick:o[7]||(o[7]=$=>H(n(B).PM)),class:"t-data typography-table-data src-table-cell"},a((te=(oe=u(n(x).Water,n(B).PM))==null?void 0:oe.water)==null?void 0:te.quantity),1)]),e("div",Ma,[e("div",Oa,a(n(l)("Dinner")),1),e("div",{onClick:o[8]||(o[8]=$=>U(n(B).Dinner)),class:"t-data typography-table-data src-table-cell"},a(C((ue=u(n(x).Meal,n(B).Dinner))==null?void 0:ue.meal)),1),e("div",{onClick:o[9]||(o[9]=$=>H(n(B).Dinner)),class:"t-data typography-table-data src-table-cell"},a((be=(he=u(n(x).Water,n(B).Dinner))==null?void 0:he.water)==null?void 0:be.quantity),1)]),e("div",xa,[e("div",Ra,a(n(l)("Alert ")),1),e("div",Ua,[e("span",{class:Q(["alert",n(r).retentionAlertClass(n(r).thisDailyLog.retention_alert_meal)])},[n(r).thisDailyLog.retention_alert_meal!="Normal"?(p(),y("p",Aa,a(S.$t(n(r).thisDailyLog.retention_alert_meal)),1)):(p(),y("p",Wa,a(` ${S.$t(n(r).thisDailyLog.retention_alert_meal)} `),1))],2)]),e("div",Ba,[e("span",{class:Q(["alert",n(r).retentionAlertClass((Oe=n(r).thisDailyLog)==null?void 0:Oe.retention_alert_water)])},[((xe=n(r).thisDailyLog)==null?void 0:xe.retention_alert_water)!="Normal"?(p(),y("p",Ha,a(S.$t((Re=n(r).thisDailyLog)==null?void 0:Re.retention_alert_water)),1)):(p(),y("p",Va,a(` ${S.$t((Ue=n(r).thisDailyLog)==null?void 0:Ue.retention_alert_water)} `),1))],2)])])])]),e("div",za,[e("div",qa,[T(h,{class:"o-icon-class",pack:"mdi",icon:"pill-multiple",size:"medium"}),e("span",Ya,a(n(l)("Medication Management")),1)]),e("div",Fa,[e("div",{onClick:o[10]||(o[10]=$=>R(n(B).Breakfast)),class:"table-content src-table-cell"},[e("div",Ka,a(n(l)("Breakfast")),1),e("div",Pa,[T(h,{pack:"mdi",rootClass:"o-icon-root-class",icon:N(n(B).Breakfast),size:"medium"},null,8,["icon"])]),e("div",ja,a((We=L((Ae=u(n(x).Medication,n(B).Breakfast))==null?void 0:Ae.staff_uuid))==null?void 0:We.fullName),1)]),e("div",{onClick:o[11]||(o[11]=$=>R(n(B).Lunch)),class:"table-content src-table-cell"},[e("div",Xa,a(n(l)("Lunch")),1),e("div",Za,[T(h,{pack:"mdi",rootClass:"o-icon-root-class",icon:N(n(B).Lunch),size:"medium"},null,8,["icon"])]),e("div",Ga,a((He=L((Be=u(n(x).Medication,"Lunch"))==null?void 0:Be.staff_uuid))==null?void 0:He.fullName),1)]),e("div",{onClick:o[12]||(o[12]=$=>R(n(B).Dinner)),class:"table-content src-table-cell"},[e("div",Ja,a(n(l)("Dinner")),1),e("div",Qa,[T(h,{pack:"mdi",rootClass:"o-icon-root-class",icon:N(n(B).Dinner),size:"medium"},null,8,["icon"])]),e("div",ei,a((ze=L((Ve=u(n(x).Medication,"Dinner"))==null?void 0:Ve.staff_uuid))==null?void 0:ze.fullName),1)]),e("div",{onClick:o[13]||(o[13]=$=>R(n(B).BeforeBed)),class:"table-content src-table-cell"},[e("div",ti,a(n(l)("Before Bed")),1),e("div",ni,[T(h,{pack:"mdi",rootClass:"o-icon-root-class",icon:N(n(B).BeforeBed),size:"medium"},null,8,["icon"])]),e("div",si,a((Ye=L((qe=u(n(x).Medication,"BeforeBed"))==null?void 0:qe.staff_uuid))==null?void 0:Ye.fullName),1)])])])]),e("div",oi,[e("div",ai,[T(h,{class:"o-icon-class",pack:"mdi",icon:"notebook-edit",size:"medium"}),e("span",ii,a(n(l)("Excretion Patrol Record (including night record)")),1)]),e("div",li,[e("div",ri,[ci,e("div",di,a(n(l)("Urine")),1),e("div",ui,a(n(l)("Stool")),1)]),(p(!0),y(_e,null,ve(Y(),$=>{var Ke,Pe,je,Xe,Ze,Ge,Je,Qe,et,tt,nt,st,ot,at,it,lt,rt,ct,dt,ut,_t,mt,pt,gt,ft,ht,vt,bt,yt,St,$t,kt,wt,Ct,Tt,Dt,It,Lt,Et,Nt,Mt,Ot,xt,Rt,Ut,At,Wt,Bt,Ht,Vt,zt,qt,Yt,Ft,Kt,Pt,jt,Xt,Zt,Gt,Jt,Qt,en,tn,nn,sn,on,an,ln,rn,cn,dn;return p(),y("div",{class:"for-loop",key:$},[$==="ZERO"?(p(),y("div",_i,[e("div",mi,[e("span",pi,a(n(l)(ee($))),1)]),e("div",gi,[e("span",{onClick:o[14]||(o[14]=ne=>m("ZERO")),class:Q(["trc-table-cell typography-table-awake",{"is-awake":(Ke=i("Sleeping",$.toString()))==null?void 0:Ke.sleeping}])},a(n(l)("Asleep")),3),e("span",{onClick:o[15]||(o[15]=ne=>v("ZERO_THREE","Urine")),class:"trc-table-cell"},[T(h,{pack:"mdi",icon:(je=(Pe=i("Urine",$.toString()))==null?void 0:Pe.urine)!=null&&je.status?"circle-outline":((Ze=(Xe=i("Urine",$.toString()))==null?void 0:Xe.urine)==null?void 0:Ze.status)==null?"":"window-close"},null,8,["icon"])])]),e("div",fi,[e("span",{onClick:o[16]||(o[16]=ne=>m("ZERO")),class:Q(["trc-table-cell typography-table-awake",{"is-awake":((Ge=i("Sleeping",$.toString()))==null?void 0:Ge.sleeping)==!1}])},a(n(l)("Awake")),3),e("span",{onClick:o[17]||(o[17]=ne=>v("ZERO_THREE","Stool")),class:"trc-table-cell trc-cell-stool"},[((Qe=(Je=i("Stool",$.toString()))==null?void 0:Je.stool)==null?void 0:Qe.volume)==null?(p(),y("span",hi)):((tt=(et=i("Stool",$.toString()))==null?void 0:et.stool)==null?void 0:tt.volume)=="None"?(p(),ae(h,{key:1,pack:"mdi",icon:"window-close"})):(p(),y("div",vi,[e("span",null,a(n(l)((st=(nt=i("Stool",$.toString()))==null?void 0:nt.stool)==null?void 0:st.volume)),1),e("span",null,a(n(l)((at=(ot=i("Stool",$.toString()))==null?void 0:ot.stool)==null?void 0:at.quality)),1)]))])])])):$==="THREE"?(p(),y("div",bi,[e("div",yi,[e("span",Si,a(n(l)(ee($))),1)]),e("div",$i,[e("span",{onClick:o[18]||(o[18]=ne=>m("THREE")),class:Q(["trc-table-cell typography-table-awake",{"is-awake":(it=i("Sleeping",$.toString()))==null?void 0:it.sleeping}])},a(n(l)("Asleep")),3),e("span",{onClick:o[19]||(o[19]=ne=>v("THREE_SIX","Urine")),class:"trc-table-cell"},[T(h,{pack:"mdi",icon:(rt=(lt=i("Urine",$.toString()))==null?void 0:lt.urine)!=null&&rt.status?"circle-outline":((dt=(ct=i("Urine",$.toString()))==null?void 0:ct.urine)==null?void 0:dt.status)==null?"":"window-close"},null,8,["icon"])])]),e("div",ki,[e("span",{onClick:o[20]||(o[20]=ne=>m("THREE")),class:Q(["trc-table-cell typography-table-awake",{"is-awake":((ut=i("Sleeping",$.toString()))==null?void 0:ut.sleeping)==!1}])},a(n(l)("Awake")),3),e("span",{onClick:o[21]||(o[21]=ne=>v("THREE_SIX","Stool")),class:"trc-table-cell trc-cell-stool"},[((mt=(_t=i("Stool",$.toString()))==null?void 0:_t.stool)==null?void 0:mt.volume)==null?(p(),y("span",wi)):((gt=(pt=i("Stool",$.toString()))==null?void 0:pt.stool)==null?void 0:gt.volume)=="None"?(p(),ae(h,{key:1,pack:"mdi",icon:"window-close"})):(p(),y("div",Ci,[e("span",null,a(n(l)((ht=(ft=i("Stool",$.toString()))==null?void 0:ft.stool)==null?void 0:ht.volume)),1),e("span",null,a(n(l)((bt=(vt=i("Stool",$.toString()))==null?void 0:vt.stool)==null?void 0:bt.quality)),1)]))])])])):$=="SIX"?(p(),y("div",Ti,[e("div",Di,[e("span",Ii,a(n(l)(ee($))),1)]),e("div",Li,[e("span",{onClick:o[22]||(o[22]=ne=>m("SIX")),class:Q(["trc-table-cell typography-table-awake",{"is-awake":(yt=i("Sleeping",$.toString()))==null?void 0:yt.sleeping}])},a(n(l)("Asleep")),3),e("span",{onClick:o[23]||(o[23]=ne=>v("SIX_NINE","Urine")),class:"trc-table-cell"},[T(h,{pack:"mdi",icon:($t=(St=i("Urine",$.toString()))==null?void 0:St.urine)!=null&&$t.status?"circle-outline":((wt=(kt=i("Urine",$.toString()))==null?void 0:kt.urine)==null?void 0:wt.status)==null?"":"window-close"},null,8,["icon"])])]),e("div",Ei,[e("span",{onClick:o[24]||(o[24]=ne=>m("SIX")),class:Q(["trc-table-cell typography-table-awake",{"is-awake":((Ct=i("Sleeping",$.toString()))==null?void 0:Ct.sleeping)==!1}])},a(n(l)("Awake")),3),e("span",{onClick:o[25]||(o[25]=ne=>v("SIX_NINE","Stool")),class:"trc-table-cell trc-cell-stool"},[((Dt=(Tt=i("Stool",$.toString()))==null?void 0:Tt.stool)==null?void 0:Dt.volume)==null?(p(),y("span",Ni)):((Lt=(It=i("Stool",$.toString()))==null?void 0:It.stool)==null?void 0:Lt.volume)=="None"?(p(),ae(h,{key:1,pack:"mdi",icon:"window-close"})):(p(),y("div",Mi,[e("span",null,a(n(l)((Nt=(Et=i("Stool",$.toString()))==null?void 0:Et.stool)==null?void 0:Nt.volume)),1),e("span",null,a(n(l)((Ot=(Mt=i("Stool",$.toString()))==null?void 0:Mt.stool)==null?void 0:Ot.quality)),1)]))])])])):$=="TWENTY_ONE"?(p(),y("div",Oi,[e("div",xi,[e("span",Ri,a(n(l)(ee($))),1)]),e("div",Ui,[e("span",{onClick:o[26]||(o[26]=ne=>m("TWENTY_ONE")),class:Q(["trc-table-cell typography-table-awake",{"is-awake":(xt=i("Sleeping",$.toString()))==null?void 0:xt.sleeping}])},a(n(l)("Asleep")),3),e("span",{onClick:o[27]||(o[27]=ne=>v("TWENTY_ZERO","Urine")),class:"trc-table-cell"},[T(h,{pack:"mdi",icon:(Ut=(Rt=i("Urine",$.toString()))==null?void 0:Rt.urine)!=null&&Ut.status?"circle-outline":((Wt=(At=i("Urine",$.toString()))==null?void 0:At.urine)==null?void 0:Wt.status)==null?"":"window-close"},null,8,["icon"])])]),e("div",Ai,[e("span",{onClick:o[28]||(o[28]=ne=>m("TWENTY_ONE")),class:Q(["trc-table-cell typography-table-awake",{"is-awake":((Bt=i("Sleeping",$.toString()))==null?void 0:Bt.sleeping)==!1}])},a(n(l)("Awake")),3),e("span",{onClick:o[29]||(o[29]=ne=>v("TWENTY_ZERO","Stool")),class:"trc-table-cell trc-cell-stool"},[((Vt=(Ht=i("Stool",$.toString()))==null?void 0:Ht.stool)==null?void 0:Vt.volume)==null?(p(),y("span",Wi)):((qt=(zt=i("Stool",$.toString()))==null?void 0:zt.stool)==null?void 0:qt.volume)=="None"?(p(),ae(h,{key:1,pack:"mdi",icon:"window-close"})):(p(),y("div",Bi,[e("span",null,a(n(l)((Ft=(Yt=i("Stool",$.toString()))==null?void 0:Yt.stool)==null?void 0:Ft.volume)),1),e("span",null,a(n(l)((Pt=(Kt=i("Stool",$.toString()))==null?void 0:Kt.stool)==null?void 0:Pt.quality)),1)]))])])])):$=="KOT"?(p(),y("div",Hi,[e("div",Vi,[e("span",zi,a(n(l)(ee($))),1)]),e("div",qi,[e("span",{class:Q(["alert",n(r).retentionAlertClass(n(r).thisDailyLog.retention_alert_urine)])},[n(r).thisDailyLog.retention_alert_urine!="Normal"?(p(),y("p",Yi,a(S.$t(n(r).thisDailyLog.retention_alert_urine)),1)):(p(),y("p",Fi,a(` ${S.$t(n(r).thisDailyLog.retention_alert_urine)} `),1))],2)]),e("div",Ki,[e("span",{class:Q(["alert",n(r).retentionAlertClass((jt=n(r).thisDailyLog)==null?void 0:jt.retention_alert_stool)])},[((Xt=n(r).thisDailyLog)==null?void 0:Xt.retention_alert_stool)!="Normal"?(p(),y("p",Pi,a(S.$t((Zt=n(r).thisDailyLog)==null?void 0:Zt.retention_alert_stool)),1)):(p(),y("p",ji,a(` ${S.$t((Gt=n(r).thisDailyLog)==null?void 0:Gt.retention_alert_stool)} `),1))],2)])])):F().includes($)?(p(),y("div",Xi,[e("div",Zi,[e("span",Gi,a(n(l)(ee($))),1)]),e("div",Ji,[e("span",{onClick:ne=>v($,"Urine"),class:"trc-table-cell"},[T(h,{pack:"mdi",icon:(Qt=(Jt=i("Urine",$.toString()))==null?void 0:Jt.urine)!=null&&Qt.status?"circle-outline":((tn=(en=i("Urine",$.toString()))==null?void 0:en.urine)==null?void 0:tn.status)==null?"":"window-close"},null,8,["icon"])],8,Qi)]),e("div",el,[e("span",{onClick:ne=>v($,"Stool"),class:"trc-table-cell trc-cell-stool"},[((sn=(nn=i("Stool",$.toString()))==null?void 0:nn.stool)==null?void 0:sn.volume)==null?(p(),y("span",nl)):((an=(on=i("Stool",$.toString()))==null?void 0:on.stool)==null?void 0:an.volume)=="None"?(p(),ae(h,{key:1,pack:"mdi",icon:"window-close"})):(p(),y("div",sl,[e("span",null,a(n(l)((rn=(ln=i("Stool",$.toString()))==null?void 0:ln.stool)==null?void 0:rn.volume)),1),e("span",null,a(n(l)((dn=(cn=i("Stool",$.toString()))==null?void 0:cn.stool)==null?void 0:dn.quality)),1)]))],8,tl)])])):(p(),y("div",ol))])}),128))])]),e("div",al,[e("div",il,[e("div",ll,[T(h,{class:"o-icon-class",pack:"mdi",icon:"bulletin-board",size:"medium"}),e("span",rl,a(n(l)("Notices")),1)]),e("div",{onClick:o[30]||(o[30]=$=>A()),class:"card-table"},[e("div",cl,[e("span",dl,a((Fe=g(n(x).Notices))==null?void 0:Fe.notices),1)])])]),e("div",ul,[T(j,{onClick:o[31]||(o[31]=$=>n(r).updateNursingRecord()),rootClass:"button-container"},{default:pe(()=>[Se(a(n(l)("Update")),1)]),_:1})])])],64)}}}),ml=de(_l,[["__scopeId","data-v-eb3ef8c5"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/components/staff_management/StaffNursingCareRecord.vue"]]),pl=mn("sensor-data",()=>{const O=q({}),D=q([]),l=q(!1),r=q([]),I=q({}),w=q([]),W=q(!1),b=q([]),i=q({}),u=()=>{for(let C=0;C<3;C++){const N=A();D.value.push(N)}return r.value=D.value,D.value},g=C=>{const N=D.value.find(F=>F.uuid===C.uuid);return N&&(O.value=N),O.value},L=C=>{const N=H(C);return console.log("errors::",N),Object.keys(N.errors).length===0?(D.value.push(C),{status:"success",data:D.value}):{status:"fail",data:N.errors}},c=C=>{const N=D.value.findIndex(F=>F.uuid===C.uuid);N!==-1?(O.value.update_time=new Date,D.value.splice(N,1,O.value),console.log("Object updated:",O.value),Ne.push("/management")):console.log("Object not found with UUID:",C.uuid)},m=()=>{const C=z();return w.value=C,w.value},v=C=>{l.value=!0;const N=D.value;r.value=N.filter(F=>{const Y=new Date(F.update_time);return Y.setHours(0),Y.setSeconds(0),Y.setMinutes(0),Y.setMilliseconds(0),!(C.tenant_full_name&&!F.tenant_full_name.toLocaleLowerCase().includes(C.tenant_full_name.toLocaleLowerCase())||C.update_time_from&&Y>C.update_time_to||C.update_time_to&&Y<C.update_time_from)})},U=()=>{I.value={},l.value=!1,W.value=!1},H=C=>{const N={};return C.tenant_full_name||(N.tenant_full_name="Full name cannot be empty."),C.room||(N.room="Room cannot be empty."),C.device_information||(N.device_information="Device information cannot be empty."),C.last_known_location||(N.last_known_location="Last known location cannot be empty."),C.heartbeat||(N.heartbeat="Heartbeat cannot be empty."),C.surface_temperature||(N.surface_temperature="Surface temperature cannot be empty."),C.retention_alert||(N.retention_alert="Retention alert cannot be empty."),(!C.update_time||isNaN(C.update_time.getTime()))&&(N.update_time="Invalid update time."),C.rssi||(N.rssi="RSSI cannot be empty"),{errors:N}},R=C=>{W.value=!0;const N=w.value;b.value=N.filter(F=>{const Y=new Date(F.update_time);return Y.setHours(0),Y.setSeconds(0),Y.setMinutes(0),Y.setMilliseconds(0),!(C.update_time_from&&Y>C.update_time_to||C.update_time_to&&Y<C.update_time_from)})},A=()=>{const C=["Go out","20 minutes or more"],N=["Living Room","Dining Room","Kitchen","Toilet","Corridor"],F=["F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Y=E.string.alpha({length:1,casing:"upper",exclude:F});return{uuid:E.string.numeric({length:6,allowLeadingZeros:!0}),tenant_full_name:E.person.fullName(),room:E.string.numeric({length:3,allowLeadingZeros:!1}),device_information:E.internet.mac(),last_known_location:E.helpers.arrayElement(N)+" "+Y,heartbeat:E.number.int({min:60,max:100}),surface_temperature:E.number.float({min:30,max:40,precision:.01}),retention_alert:E.helpers.arrayElement(C),update_time:E.date.future(),rssi:E.number.int({min:-100,max:-40})}},z=()=>{const C=[],N=O.value;for(let F=0;F<5;F++){const Y=new Date(N.update_time);F%2===0?Y.setSeconds(Y.getSeconds()-E.number.int({min:1,max:60})):Y.setSeconds(Y.getSeconds()+E.number.int({min:1,max:60}));const ee={uuid:N.uuid,tenant_full_name:N.tenant_full_name,room:N.room,device_information:N.device_information,last_known_location:N.room,heartbeat:E.number.int({min:60,max:100}),surface_temperature:E.number.float({min:30,max:40,precision:.01}),retention_alert:N.retention_alert,update_time:Y,rssi:E.number.int({min:-100,max:N.rssi})};C.push(ee)}return C};return{sensorData:O,sensorDatas:D,isFiltered:l,filteredSensorDatas:r,searchOption:I,sensorDataHistory:w,isSensorDataHistoryFiltered:W,filteredSensorDataHistory:b,selectedSensorData:i,getSensorDatas:u,getSensorData:g,addSensorData:L,updateSensorData:c,getSensorDataHistory:m,searchSensorData:v,clearSearchOption:U,generateSensorDataHistory:z,searchSensorDataHistory:R}}),gl={class:"dashboard-container"},fl={class:"assignment-container"},hl=ce({__name:"StaffManagementView",setup(O){const D=un(),l=pl();return Ce(()=>{var r;!l.sensorData.uuid&&((r=D.currentRoute)!=null&&r.value.path.includes("/management/reception-history/"))&&D.push("/management")}),(r,I)=>{var w,W,b;return p(),y("div",gl,[T(Zn),e("div",fl,[((w=n(D).currentRoute)==null?void 0:w.value.path)=="/staff/assignment"?(p(),ae(rs,{key:0})):re("v-if",!0),((W=n(D).currentRoute)==null?void 0:W.value.path)=="/staff/management"?(p(),ae(Rs,{key:1})):re("v-if",!0),((b=n(D).currentRoute)==null?void 0:b.value.path)=="/staff/nursing-care-record"?(p(),ae(ml,{key:2})):re("v-if",!0)]),re(' <Management v-if="router.currentRoute?.value.path == \'/management\'" />\n    <ReceptionHistory v-else-if="router.currentRoute?.value.path == `/management/reception-history/${sensorDataStore.sensorData.uuid}`" /> ')])}}}),Sl=de(hl,[["__scopeId","data-v-bf50bc70"],["__file","/Users/Redenfloyd-ROK/Worskpace/wicare/src/views/StaffManagementView.vue"]]);export{Sl as default};
